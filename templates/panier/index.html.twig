{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
	<h1>Bienvenue sur votre panier :</h1>

	<table class="table table-hover mb-5">
		<thead>
			<tr>
			    <th scope="col">Maraicher</th>
				<th scope="col">Légumes</th>
				<th scope="col">Prix</th>
				<th scope="col">Quantité</th>
				<th scope="col">Total</th>
				<th scope="col">Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for element in dataPanier %}
				<tr>
				    <th>{{element.legume.maraicher.entreprise}}</th>
					<td>{{element.legume.variete}}</td>
					<td>{{element.legume.prix}}
						€/kg</td>
					<td>{{element.quantite}}</td>
					<td>{{element.quantite * element.legume.prix}}
						€</td>
					<td>
						<a href="{{path('add_panier', {id: element.legume.id} )}}" class="text-decoration-none"/>
							<i class="bi bi-plus-circle-fill"></i>
						</a>
						<a href="{{path('remove_panier', {id: element.legume.id} )}}" class="text-decoration-none"/>
							<i class="bi bi-dash-circle-fill"></i>
						</a>
						<a href="{{path('delete_panier', {id: element.legume.id} )}}"/>
							<i class="bi bi-trash-fill" style="color:red"></i>
						</a>
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="6" class="text-center">Votre panier est vide</td>
				</tr>
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td colspan="4">Total :</td>
				<td class="text-end">{{total}} €</td>
                <td></td>
			</tr>
		</tfoot>
	</table>


    <div class="text-center">
        <button class="btn btn-lg btn-primary" type="button">
		    <a href="{{path('index_commande')}}" class="text-decoration-none text-light">Passer la commande</a>
		</button>
     </div>
  



{% endblock %}
