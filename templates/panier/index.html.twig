{% extends 'base.html.twig' %}

{% block title %}Hello PanierController!
{% endblock %}

{% block body %}
	<h1>Bienvenue sur votre panier :</h1>

	<table class="table table-hover">
		<thead>
			<tr>
				<th scope="col">Légumes</th>
				<th scope="col">Prix</th>
				<th scope="col">Quantité</th>
				<th scope="col">Total</th>
				<th scope="col">Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for element in dataPanier %}
				<tr class="table">
					<th>{{element.legume.variete}}</th>
					<td>{{element.legume.prix}}
						€/kg</td>
					<td>{{element.quantite}}</td>
					<td>{{element.quantite * element.legume.prix}}
						€</td>
					<td>
						<a href="{{path('add_panier', {id: element.legume.id} )}}">
							<i class="bi bi-plus-circle-fill"></i>
						</a>
						<a href="{{path('remove_panier', {id: element.legume.id} )}}">
							<i class="bi bi-dash-circle-fill"></i>
						</a>
						<a href="{{path('delete_panier', {id: element.legume.id} )}}">
							<i class="bi bi-trash-fill"></i>
						</a>
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5" class="text-center">Votre panier est vide</td>
				</tr>
			{% endfor %}

		</tbody>
		<tfoot>
			<tr>
				<td colspan="3">Total</td>
				<td class="text-end">{{total}}
					€</td>
                <td></td>
			</tr>
		</tfoot>
	</table>
{% endblock %}
